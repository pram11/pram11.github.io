---
title:react-native-window에 대한 짧은 이야기
layout:post
---

# 졸작
어째서 이 짓을 하고있는지 모르겠지만 창업해서 일하면서도 졸작을 만들 시기가 되었습니다.
주제로는 음성인식 키오스크를 지정하였고, 이미 창업을 해서 개발을 하고 있기 때문에 손에 많이 익은 프레임워크들을 이용해 개발하기로 하였습니다.
지금 생각해보니 벌써 장고는 3년차, 리액트 네이티브는 1년차 개발중이네요. 시간 참 빨라...
가능하면 쉽게 쉽게 가기 위해 리액트 혹은 리액트 네이티브를 활용할 방법을 고려하였고, 
마이크로소프트 측에서 이미 리액트 네이티브 용으로 만들어서 배포중이라는 사실을 알고 있었기 때문에, 
가볍게 '그럼 뭐 새로 공부하는 샘 치고 리액트 네이티브로 윈도우 개발하면 되지 않겠어?'라는 생각을 하게 되었습니다.
뭐, 졸작이니까요. 
안하던 짓을 하는게 졸작의 취지에 맞다는 생각을 하였습니다.


결론부터 이야기하자면, 이 글은 "쓰지마"라는 권유를 하기 위한 글입니다.



1.불안정성

빌드 하나 하는데 무겁디 무거운 비주얼 스튜디오를 설치하고 온갖 잡동사니를 설치하느라 결국 분할해두고 안쓰고 있던 우분투 파티션을 날린것은 사실 리액트 네이티브 개발자 입장에서는 뭐 크게 대수로운 일은 아니긴 합니다.
그런 논리로 치면 ios도 xcode를 설치하는데 큰 용량이 필요하고. 맥북을 결국 용량 부족 판정내린다음 이번에 새로 구매하기도 하였으니까요.
안드로이드도 엄밀히 따지면 상황은 크게 다르지 않구요.
문제는 설치 한 이후에도 그리 안정적인 작동을 보이지는 못하였다는 점에 있습니다.
실행 이후 자주 종료되어버려서 빌드를 새로하는 정도면 큰 문제는 없습니다.
(이렇게 말은 했지만 이런 일이 꽤 잦습니다. 시간소모가 꽤 크죠. 
다만 이건 디버깅모드의 문제라고 생각되긴 합니다. 프로그램 자체가 종료되어 버리는 경우는 보통 창 띄워두고 소스코드를 수정하고 있을떄 벌어진 일이니까요. 
그냥 내부 에러창을 띄우면서 계속 실행되는 ios/안드로이드에 비해서는 불안정한것은 사실이지만요. )


  일단 첫번째로 스타일 속성이 생각처럼 되질 않습니다.
  
리액트 네이티브의 핵심 아이디어대로, ios와 안드로이드를 함께 개발해보신 분은 아마 알고 계실겁니다.
스타일 속성이 ios와 안드로이드가 약간씩 다르게 정의되어 있는 탓에, 한쪽만을 기준으로 작업하면 안드로이드에서는 잘 나오는데 ios에서는 문자가 잘려서 나온다던지(padding 속성 문제)
이런 미세하게 다른 부분들을 잡아주는게 사실 은근히 번거로운 부분들인데요,
윈도우는 이게 좀 더 심각하게 다릅니다.
ios 내지는 안드로이드라면 정상적으로 작동했을 요소들이 작동하지 않거나, 하더라도 상정한 방식 이외의 방식으로 작동해버려서 우회로를 찾아야 하는 일이 상당히 잦았습니다.


  그리고 두번째로, 기본 컴포넌트가 버그의 원인이 되는 경우도 있었습니다.
  
사실 이건 버그 리포트를 해야 하나 하다가 시간에 쫓기다보니 못한 케이스이긴 한데요.
(위에 이야기했듯이 창업 개발 하면서 졸작 진행중이라...더해서 프로젝트 하나 더 하니 정말 죽을것 같아서.)
Modal 같은 상당히 자주 사용하게 되는 컴포넌트도 버그가 터지는 원인이 되곤 하더라구요.
결국 그냥 View 컴포넌트를 이용해서 자체 제작을 하게 되었습니다.
지금 시점에서는 해결이 되었는지 모르겠는데요, 이런 기본적인 컴포넌트에서 버그가 터지는것이 마이크로소프트가 해당 프로젝트에 대한 의지가 크진 않은게 아닌가 하는 생각을 들게 하였었습니다.
그렇다고 해도 사실 이상할것은 없죠. node를 윈도우에서 이용하는 방법으로는 요즘 마소의 역작중 하나인 vs code 같이 '이미 성공적인 제품 케이스가 있는' 일렉트론도 있구요.
사실 이쪽은 설치도 안해봐서 얼마나 나을지는 모르겠지만, 최소한 도그피딩을 수행할만한 수준이라고는 보니까요.
nodejs 생태계에서 윈도우 같은 데스크탑을 지원하기 위한 프레임워크는 마소 내부적으로 이쪽에 좀 더 무게를 실어주고 있는것이 아닌가 하는 생각을 하고 있습니다.
마소가 리액트 네이티브 윈도우에 대한 지원을 포기했는가 하면 그렇지는 않지만, 
어차피 일렉트론 상에 리액트를 끼얹으면 리액트 사용자 층은 끌어올수 있으니 마소 내부적으로 리액트 네이티브의 중요성 자체는 떨어지는 편 아닌가 합니다.
뭐 이러니저러니 해도 다른회사 주도인 프로젝트니까요.


2.외부 모듈 지원 미비

카메라를 이용해 얼굴 인식(아무래도 졸작이니 그럴듯해보이는게 있어야죠.)기능을 넣으려 하였는데요,
설치에 2주가량 까먹었습니다.
다른 운영체제. 그러니까 안드로이드나 ios 같은 경우는 설치 가이드에도 스크린샷을 포함한 상당히 긴 설명이 있었는데요,
윈도우의 경우에는 세줄요약에, 심지어 줄바꿈 처리도 안되어있었습니다.
물론 지원되도록 기여해주신 분한테 감사하기도 하고 이게 어디냐 라는 마음을 가지고 있기는 하지만, 
정성껏 쓰여진 윈도우/안드로이드용 개발문서를 보고 짤막하고 무슨 이야기인지 알수가 없는 윈도우 개발문서를 보면 혼란스럽더라구요. 
개발 커뮤니티 차원에서 개발에 대한 의지가 크지 않은게 아닌가 하는 생각이 들었습니다.
그렇게 겨우겨우 설치한 모듈에서 제대로 실행이 되지 않던 경우도 있었구요. 
최근(아마 RN60 이후부터였던걸로 기억하는데)외부 모듈에 대한 자동 링킹 기능도 윈도우에서는 해당되지 않구요.



3.참고 문서 없음

리액트 네이티브의 경우도 요즘들어서 한국어 문서가 많아졌지, 영문 문서를 참고로 개발하는게 필수적인 상황인데요,
리액트 네이티브 윈도우의 경우는 한국어 문서는 차지하고, 영문 문서도 존재하지 않습니다.
앞서 이야기한 react-native-camera의 경우에 더욱 더 헤매게 된 이유이기도 한데요, 
보통 특정 컴포넌트의 설치법을 찾으면 잘 쓰여진 공식문서에 외국어 블로그 한두개씩은 더 나오곤 했지만 윈도우용은 그런게 전혀 없습니다.
토이프로젝트에 가까운 느낌으로 받아들이면서 졸작을 진행하였기에 허허 웃으면서 하루 밤새서 안드로이드로 전환 작업을 진행할수 있었지만, 
이게 만약 실제 회사차원에서 수행하는 프로젝트라면 프로젝트 자체의 좌초는 피할수 없었을거라고 생각합니다.
전반적으로 성숙도가 많이 떨어지는 느낌입니다.
아직 자료 부족하다는 지적을 많이 받는 flutter쪽이 차라리 좀 더 자료가 많지 않을지...


결국 안드로이드 기반으로 전환하게 되었습니다.
만에 하나 카드결제 모듈이 들어가게 될 경우, 실제 실행을 위해 윈도우 기반으로 하려고 했지만 아무래도 힘들겠더라구요.
안드로이드 기반으로 개발된 키오스크 케이스도 이미 있는것 같고.
(어차피 자바 개발자 구하기 쉬워서 윈도우 자바로 하다 안드로이드 앱 개발 시킨다는 모양이지만요.)
향후 어떻게 될지는 모르겠습니다.

마이크로소프트측에서 손을 놓았다는 느낌은 들지 않지만, 
이정도 수준으로는 커뮤니티 내에서 유의미한 비중을 차지하기란 어렵지 않을까 하는 생각을 들게 하였구요.
flutter 같은 경우도 아직은 시기상조라는 평을 듣는 편이지만, 
커뮤니티가 분명 성장할것이라는 '믿음'을 주게 되는 편인 반면에 리액트 네이티브 윈도우 같은 경우는 그런 믿음을 주지는 못하였습니다.
